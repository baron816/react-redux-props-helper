{"version":3,"sources":["../src/index.js"],"names":["createEnhanceConnect","makeProps","selectors","state","ownProps","Object","keys","reduce","acc","key","pick","obj","list","curr","val","undefined","Error","compose","fns","length","arg","makePropsFromSelectors","allSelectors","allActions","enhancedConnect","selectorList","actionList","component","mapStateToProps","mapDispatchToProps"],"mappings":";;;;;kBA4CwBA,oB;;AA5CxB;;AAEA,SAASC,SAAT,CAAmBC,SAAnB,EAA8B;AAC5B,SAAO,UAAUC,KAAV,EAAiBC,QAAjB,EAA2B;AAChC,WAAOC,OAAOC,IAAP,CAAYJ,SAAZ,EAAuBK,MAAvB,CAA8B,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AACvDD,UAAIC,GAAJ,IAAWP,UAAUO,GAAV,EAAeN,KAAf,EAAsBC,QAAtB,CAAX;AACA,aAAOI,GAAP;AACD,KAHM,EAGJ,EAHI,CAAP;AAID,GALD;AAMD;;AAED,SAASE,IAAT,CAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACvB,SAAOA,KAAKL,MAAL,CAAY,UAAUC,GAAV,EAAeK,IAAf,EAAqB;AACtC,QAAIC,MAAMH,IAAIE,IAAJ,CAAV;;AAEA,QAAIC,QAAQC,SAAZ,EAAuB;AACrB,YAAMC,MAAM,yBAAyBH,IAA/B,CAAN;AACD,KAFD,MAEO;AACLL,UAAIK,IAAJ,IAAYC,GAAZ;AACA,aAAON,GAAP;AACD;AACF,GATM,EASJ,EATI,CAAP;AAUD;;AAED,SAASS,OAAT,GAAyB;AAAA,oCAALC,GAAK;AAALA,OAAK;AAAA;;AACvB,MAAIA,IAAIC,MAAJ,KAAe,CAAnB,EAAsB;AACpB,WAAO;AAAA,aAAOC,GAAP;AAAA,KAAP;AACD;;AAED,MAAIF,IAAIC,MAAJ,KAAe,CAAnB,EAAsB;AACpB,WAAO,YAAmB;AACxB,aAAOD,IAAI,CAAJ,uBAAP;AACD,KAFD;AAGD;;AAED,SAAOA,IAAIX,MAAJ,CAAW,UAAUC,GAAV,EAAeK,IAAf,EAAqB;AACrC,WAAO,YAAmB;AACxB,aAAOL,IAAIK,gCAAJ,CAAP;AACD,KAFD;AAGD,GAJM,CAAP;AAKD;;AAED,IAAIQ,yBAAyBJ,QAAQhB,SAAR,EAAmBS,IAAnB,CAA7B;;AAEe,SAASV,oBAAT,GAGb;AAAA,MAFAsB,YAEA,uEAFe,EAEf;AAAA,MADAC,UACA,uEADa,EACb;;AACA,SAAO,SAASC,eAAT,CAAyBC,YAAzB,EAAwD;AAAA,QAAjBC,UAAiB,uEAAJ,EAAI;;AAC7D,WAAO,UAAUC,SAAV,EAAqB;AAC1B,UAAIC,kBAAkBH,aAAaN,MAAb,GACpBE,uBAAuBC,YAAvB,EAAqCG,YAArC,CADoB,GAEpB;AAAA,eAAO,EAAP;AAAA,OAFF;AAGA,UAAII,qBAAqBH,WAAWP,MAAX,GACvBT,KAAKa,UAAL,EAAiBG,UAAjB,CADuB,GAEvBX,SAFF;;AAIA,aAAO,yBAAQa,eAAR,EAAyBC,kBAAzB,EAA6CF,SAA7C,CAAP;AACD,KATD;AAUD,GAXD;AAYD","file":"index.js","sourcesContent":["import { connect } from 'react-redux';\n\nfunction makeProps(selectors) {\n  return function (state, ownProps) {\n    return Object.keys(selectors).reduce(function (acc, key) {\n      acc[key] = selectors[key](state, ownProps);\n      return acc;\n    }, {});\n  };\n}\n\nfunction pick(obj, list) {\n  return list.reduce(function (acc, curr) {\n    var val = obj[curr];\n\n    if (val === undefined) {\n      throw Error('Key does not exist: ' + curr);\n    } else {\n      acc[curr] = val;\n      return acc;\n    }\n  }, {});\n}\n\nfunction compose(...fns) {\n  if (fns.length === 0) {\n    return arg => arg;\n  }\n\n  if (fns.length === 1) {\n    return function (...args) {\n      return fns[0](...args);\n    };\n  }\n\n  return fns.reduce(function (acc, curr) {\n    return function (...args) {\n      return acc(curr(...args));\n    }\n  });\n}\n\nvar makePropsFromSelectors = compose(makeProps, pick);\n\nexport default function createEnhanceConnect(\n  allSelectors = {},\n  allActions = {}\n) {\n  return function enhancedConnect(selectorList, actionList = []) {\n    return function (component) {\n      var mapStateToProps = selectorList.length ?\n        makePropsFromSelectors(allSelectors, selectorList) :\n        () => ({});\n      var mapDispatchToProps = actionList.length ?\n        pick(allActions, actionList) :\n        undefined;\n\n      return connect(mapStateToProps, mapDispatchToProps)(component);\n    }\n  }\n}\n"]}