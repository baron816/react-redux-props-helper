{"version":3,"sources":["../src/index.js"],"names":["makeProps","selectors","state","ownProps","Object","keys","reduce","acc","key","pick","obj","list","curr","val","undefined","Error","compose","fns","length","arg","makePropsFromSelectors","createEnhancedConnect","allSelectors","allActions","enhancedConnect","selectorList","actionList","component","mapStateToProps","mapDispatchToProps"],"mappings":";;;;;;;AAAA;;AAEA,SAASA,SAAT,CAAmBC,SAAnB,EAA8B;AAC5B,SAAO,UAAUC,KAAV,EAAiBC,QAAjB,EAA2B;AAChC,WAAOC,MAAM,CAACC,IAAP,CAAYJ,SAAZ,EAAuBK,MAAvB,CAA8B,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AACvDD,MAAAA,GAAG,CAACC,GAAD,CAAH,GAAWP,SAAS,CAACO,GAAD,CAAT,CAAeN,KAAf,EAAsBC,QAAtB,CAAX;AACA,aAAOI,GAAP;AACD,KAHM,EAGJ,EAHI,CAAP;AAID,GALD;AAMD;;AAED,SAASE,IAAT,CAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACvB,SAAOA,IAAI,CAACL,MAAL,CAAY,UAAUC,GAAV,EAAeK,IAAf,EAAqB;AACtC,QAAIC,GAAG,GAAGH,GAAG,CAACE,IAAD,CAAb;;AAEA,QAAIC,GAAG,KAAKC,SAAZ,EAAuB;AACrB,YAAMC,KAAK,CAAC,yBAAyBH,IAA1B,CAAX;AACD,KAFD,MAEO;AACLL,MAAAA,GAAG,CAACK,IAAD,CAAH,GAAYC,GAAZ;AACA,aAAON,GAAP;AACD;AACF,GATM,EASJ,EATI,CAAP;AAUD;;AAED,SAASS,OAAT,GAAyB;AAAA,oCAALC,GAAK;AAALA,IAAAA,GAAK;AAAA;;AACvB,MAAIA,GAAG,CAACC,MAAJ,KAAe,CAAnB,EAAsB;AACpB,WAAO,UAAAC,GAAG;AAAA,aAAIA,GAAJ;AAAA,KAAV;AACD;;AAED,MAAIF,GAAG,CAACC,MAAJ,KAAe,CAAnB,EAAsB;AACpB,WAAO,YAAmB;AACxB,aAAOD,GAAG,CAAC,CAAD,CAAH,OAAAA,GAAG,YAAV;AACD,KAFD;AAGD;;AAED,SAAOA,GAAG,CAACX,MAAJ,CAAW,UAAUC,GAAV,EAAeK,IAAf,EAAqB;AACrC,WAAO,YAAmB;AACxB,aAAOL,GAAG,CAACK,IAAI,MAAJ,mBAAD,CAAV;AACD,KAFD;AAGD,GAJM,CAAP;AAKD;;AAED,IAAIQ,sBAAsB,GAAGJ,OAAO,CAAChB,SAAD,EAAYS,IAAZ,CAApC;;AAEO,SAASY,qBAAT,GAGL;AAAA,MAFAC,YAEA,uEAFe,EAEf;AAAA,MADAC,UACA,uEADa,EACb;AACA,SAAO,SAASC,eAAT,CAAyBC,YAAzB,EAAwD;AAAA,QAAjBC,UAAiB,uEAAJ,EAAI;AAC7D,WAAO,UAAUC,SAAV,EAAqB;AAC1B,UAAIC,eAAe,GAAGH,YAAY,CAACP,MAAb,GACpBE,sBAAsB,CAACE,YAAD,EAAeG,YAAf,CADF,GAEpB;AAAA,eAAO,EAAP;AAAA,OAFF;AAGA,UAAII,kBAAkB,GAAGH,UAAU,CAACR,MAAX,GACvBT,IAAI,CAACc,UAAD,EAAaG,UAAb,CADmB,GAEvBZ,SAFF;AAIA,aAAO,yBAAQc,eAAR,EAAyBC,kBAAzB,EAA6CF,SAA7C,CAAP;AACD,KATD;AAUD,GAXD;AAYD","sourcesContent":["import { connect } from 'react-redux';\n\nfunction makeProps(selectors) {\n  return function (state, ownProps) {\n    return Object.keys(selectors).reduce(function (acc, key) {\n      acc[key] = selectors[key](state, ownProps);\n      return acc;\n    }, {});\n  };\n}\n\nfunction pick(obj, list) {\n  return list.reduce(function (acc, curr) {\n    var val = obj[curr];\n\n    if (val === undefined) {\n      throw Error('Key does not exist: ' + curr);\n    } else {\n      acc[curr] = val;\n      return acc;\n    }\n  }, {});\n}\n\nfunction compose(...fns) {\n  if (fns.length === 0) {\n    return arg => arg;\n  }\n\n  if (fns.length === 1) {\n    return function (...args) {\n      return fns[0](...args);\n    };\n  }\n\n  return fns.reduce(function (acc, curr) {\n    return function (...args) {\n      return acc(curr(...args));\n    }\n  });\n}\n\nvar makePropsFromSelectors = compose(makeProps, pick);\n\nexport function createEnhancedConnect(\n  allSelectors = {},\n  allActions = {}\n) {\n  return function enhancedConnect(selectorList, actionList = []) {\n    return function (component) {\n      var mapStateToProps = selectorList.length ?\n        makePropsFromSelectors(allSelectors, selectorList) :\n        () => ({});\n      var mapDispatchToProps = actionList.length ?\n        pick(allActions, actionList) :\n        undefined;\n\n      return connect(mapStateToProps, mapDispatchToProps)(component);\n    }\n  }\n}\n"],"file":"index.js"}